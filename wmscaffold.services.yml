services:
    wmscaffold.class_generator_base:
        class: Drupal\wmscaffold\Service\Generator\ClassGeneratorBase
        arguments:
            - '@entity_type.manager'
            - '@entity_field.manager'
            - '@file_system'
            - '@config.factory'

    wmscaffold.entity_bundle_class_generator:
        class: Drupal\wmscaffold\Service\Generator\EntityBundleClassGenerator
        parent: wmscaffold.class_generator_base
        arguments:
            - '@plugin.manager.entity_bundle_class_method_generator'
        calls:
            - [setPluginManager, ['@?plugin.manager.wmmodel.model']]
            - [setPluginManager, ['@?plugin.manager.entity_model.model']]

    wmscaffold.entity_bundle_class_method_generator.helper:
        class: Drupal\wmscaffold\Service\Helper\EntityBundleClassMethodGeneratorHelper
        arguments:
            - '@entity_type.manager'
            - '@plugin.manager.field.field_type'
            - '@config.factory'

    wmscaffold.controller_class_generator:
        class: Drupal\wmscaffold\Service\Generator\ControllerClassGenerator
        parent: wmscaffold.class_generator_base

    plugin.manager.entity_bundle_class_method_generator:
        class: Drupal\wmscaffold\EntityBundleClassMethodGeneratorManager
        parent: default_plugin_manager
